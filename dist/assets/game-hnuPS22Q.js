import{j as e,r as t,R as s}from"./react-vendor-5-mev8C5.js";import{P as a}from"./phaser-Dvb5RDIW.js";const i={},o=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=e?.nonce||e?.getAttribute("nonce");a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in i)return;i[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,s&&o.setAttribute("nonce",s),document.head.appendChild(o),t?new Promise((t,s)=>{o.addEventListener("load",t),o.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},r=s.lazy(()=>o(()=>Promise.resolve().then(()=>S),void 0).then(e=>({default:e.default}))),n=({className:s="",onContentTrigger:a})=>e.jsxs("div",{className:`gameboy-screen ${s}`,children:[e.jsx("div",{className:"bg-gameboy-darkest p-2 rounded-lg shadow-inner",children:e.jsxs("div",{className:"gameboy-screen-enhanced bg-gameboy-screen rounded-md relative overflow-hidden",style:{width:"var(--gameboy-screen-width)",height:"var(--gameboy-screen-height)",imageRendering:"pixelated"},children:[e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"w-full h-full bg-gameboy-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-gameboy-darkest font-gameboy text-center",children:[e.jsx("div",{className:"text-lg mb-3",children:"MARIO"}),e.jsx("div",{className:"text-sm",children:"Loading game..."}),e.jsxs("div",{className:"flex justify-center space-x-2 mt-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gameboy-darkest rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gameboy-darkest rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gameboy-darkest rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),children:e.jsx(r,{onContentTrigger:a,className:"w-full h-full"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white via-transparent to-gameboy-dark opacity-15 pointer-events-none rounded-md"})]})}),e.jsxs("div",{className:"flex justify-between mt-3 px-3",children:[e.jsx("div",{className:"text-sm font-gameboy text-gameboy-dark",children:"BATTERY"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gameboy-light rounded-full"}),e.jsx("div",{className:"text-sm font-gameboy text-gameboy-dark",children:"ON"})]})]})]}),d=(e,t="polite")=>{const s=document.createElement("div");s.setAttribute("aria-live",t),s.setAttribute("aria-atomic","true"),s.className="sr-only",s.textContent=e,document.body.appendChild(s),setTimeout(()=>{document.body.removeChild(s)},1e3)},l={announceGameStart:()=>{d("Mario game loaded. Use arrow keys or WASD to move, spacebar or A button to jump. Hit colored boxes to navigate to different sections.","assertive")},announceMovement:e=>{d(`Mario moved ${e}`,"polite")},announceJump:()=>{d("Mario jumped","polite")},announceBoxHit:e=>{d({resume:"Navigating to Resume section",portfolio:"Navigating to Portfolio section",contact:"Navigating to Contact section"}[e]||`Hit ${e} box`,"assertive")},announceContentLoad:e=>{d({resume:"Resume page loaded",portfolio:"Portfolio page loaded",contact:"Contact page loaded",home:"Home page with Mario game loaded"}[e]||`${e} page loaded`,"assertive")}},c=e=>{const{key:t}=e;switch(t.toLowerCase()){case"arrowleft":case"a":l.announceMovement("left");break;case"arrowright":case"d":l.announceMovement("right");break;case"arrowup":case"w":case" ":l.announceJump()}},m=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t())},h=()=>{if(!document.querySelector("#accessibility-styles")){const e=document.createElement("style");e.id="accessibility-styles",e.textContent="\n    .skip-link {\n      position: absolute;\n      top: -40px;\n      left: 6px;\n      background: #000;\n      color: #fff;\n      padding: 8px;\n      text-decoration: none;\n      border-radius: 4px;\n      z-index: 1000;\n      font-family: inherit;\n    }\n    .skip-link:focus {\n      top: 6px;\n    }\n    .sr-only {\n      position: absolute;\n      width: 1px;\n      height: 1px;\n      padding: 0;\n      margin: -1px;\n      overflow: hidden;\n      clip: rect(0, 0, 0, 0);\n      white-space: nowrap;\n      border: 0;\n    }\n  ",document.head.appendChild(e)}},u={prefersHighContrast:()=>window.matchMedia("(prefers-contrast: high)").matches,applyHighContrast:()=>{u.prefersHighContrast()&&document.body.classList.add("high-contrast-mode")}},g={prefersReducedMotion:()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches,applyReducedMotion:()=>{g.prefersReducedMotion()&&document.body.classList.add("reduced-motion")}};class p{static instance;events={};constructor(){}static getInstance(){return p.instance||(p.instance=new p),p.instance}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}off(e,t){if(!this.events[e])return;const s=this.events[e].indexOf(t);s>-1&&this.events[e].splice(s,1)}emit(e,...t){this.events[e]&&this.events[e].forEach(e=>{try{e(...t)}catch(s){}})}removeAllListeners(e){e?delete this.events[e]:this.events={}}static GAME_READY="game-ready";static GAME_DESTROYED="game-destroyed";static SCENE_READY="scene-ready";static PLAYER_MOVED="player-moved";static PLAYER_JUMPED="player-jumped";static BOX_HIT="box-hit";static CONTENT_TRIGGER="content-trigger";static BUTTON_PRESSED="button-pressed";static SHOW_CONTENT="show-content";static HIDE_CONTENT="hide-content";static GAMEBOY_BUTTON_PRESS="gameboy-button-press";static GAMEBOY_BUTTON_RELEASE="gameboy-button-release";static GAMEBOY_DPAD_LEFT="gameboy-dpad-left";static GAMEBOY_DPAD_RIGHT="gameboy-dpad-right";static GAMEBOY_BUTTON_A="gameboy-button-a";static GAMEBOY_BUTTON_B="gameboy-button-b";static ASSETS_LOADING="assets-loading";static ASSETS_LOADED="assets-loaded";static LOADING_PROGRESS="loading-progress";static GAME_STARTED="game-started";static GAME_PAUSED="game-paused";static GAME_RESUMED="game-resumed";static AREA_CHANGED="area-changed"}const b=p.getInstance(),y={GAME_READY:p.GAME_READY,GAME_DESTROYED:p.GAME_DESTROYED,SCENE_READY:p.SCENE_READY,PLAYER_JUMPED:p.PLAYER_JUMPED,BOX_HIT:p.BOX_HIT,CONTENT_TRIGGER:p.CONTENT_TRIGGER,BUTTON_PRESSED:p.BUTTON_PRESSED,GAMEBOY_BUTTON_PRESS:p.GAMEBOY_BUTTON_PRESS,GAMEBOY_BUTTON_RELEASE:p.GAMEBOY_BUTTON_RELEASE,GAMEBOY_DPAD_LEFT:p.GAMEBOY_DPAD_LEFT,GAMEBOY_DPAD_RIGHT:p.GAMEBOY_DPAD_RIGHT,GAMEBOY_BUTTON_A:p.GAMEBOY_BUTTON_A,GAMEBOY_BUTTON_B:p.GAMEBOY_BUTTON_B,ASSETS_LOADED:p.ASSETS_LOADED,LOADING_PROGRESS:p.LOADING_PROGRESS,AREA_CHANGED:p.AREA_CHANGED},x=({onButtonPress:s,className:a=""})=>{const[i,o]=t.useState(null),r=t.useRef({}),n=e=>{switch(o(e),s?.(e),r.current[e]=!0,e){case"left":b.emit(y.GAMEBOY_DPAD_LEFT,{pressed:!0}),b.emit(y.GAMEBOY_BUTTON_PRESS,{button:"left",pressed:!0});break;case"right":b.emit(y.GAMEBOY_DPAD_RIGHT,{pressed:!0}),b.emit(y.GAMEBOY_BUTTON_PRESS,{button:"right",pressed:!0});break;case"A":b.emit(y.GAMEBOY_BUTTON_A,{pressed:!0}),b.emit(y.GAMEBOY_BUTTON_PRESS,{button:"A",pressed:!0});break;case"B":b.emit(y.GAMEBOY_BUTTON_B,{pressed:!0}),b.emit(y.GAMEBOY_BUTTON_PRESS,{button:"B",pressed:!0});break;default:b.emit(y.GAMEBOY_BUTTON_PRESS,{button:e,pressed:!0})}"vibrate"in navigator&&navigator.vibrate(50),setTimeout(()=>{switch(o(null),r.current[e]=!1,e){case"left":b.emit(y.GAMEBOY_DPAD_LEFT,{pressed:!1}),b.emit(y.GAMEBOY_BUTTON_RELEASE,{button:"left",pressed:!1});break;case"right":b.emit(y.GAMEBOY_DPAD_RIGHT,{pressed:!1}),b.emit(y.GAMEBOY_BUTTON_RELEASE,{button:"right",pressed:!1});break;case"A":b.emit(y.GAMEBOY_BUTTON_A,{pressed:!1}),b.emit(y.GAMEBOY_BUTTON_RELEASE,{button:"A",pressed:!1});break;case"B":b.emit(y.GAMEBOY_BUTTON_B,{pressed:!1}),b.emit(y.GAMEBOY_BUTTON_RELEASE,{button:"B",pressed:!1});break;default:b.emit(y.GAMEBOY_BUTTON_RELEASE,{button:e,pressed:!1})}},150)},d=(e,t)=>{e.preventDefault(),n(t)},l=(e,t)=>{m(e.nativeEvent,()=>{n(t)})};return e.jsxs("div",{className:`gameboy-buttons ${a}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"text-xs font-gameboy text-gameboy-dark mb-2 text-center",children:"D-PAD"}),e.jsxs("div",{className:"relative w-16 h-16",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-4 bg-gameboy-buttons rounded transform -translate-y-1/2 shadow-inner"}),e.jsx("div",{className:"absolute left-1/2 top-0 w-4 h-full bg-gameboy-buttons rounded transform -translate-x-1/2 shadow-inner"}),e.jsx("button",{className:"absolute top-0 left-1/2 w-5 h-7 sm:w-4 sm:h-6 transform -translate-x-1/2 bg-gameboy-buttons hover:bg-gameboy-dark active:bg-gameboy-dark transition-all duration-75 focus:outline-none focus:ring-2 focus:ring-gameboy-light rounded-t touch-manipulation "+("up"===i?"bg-gameboy-dark scale-95 shadow-inner":""),onClick:()=>n("up"),onTouchStart:e=>d(e,"up"),onKeyDown:e=>l(e,"up"),"aria-label":"D-Pad Up"}),e.jsx("button",{className:"absolute bottom-0 left-1/2 w-5 h-7 sm:w-4 sm:h-6 transform -translate-x-1/2 bg-gameboy-buttons hover:bg-gameboy-dark active:bg-gameboy-dark transition-all duration-75 focus:outline-none focus:ring-2 focus:ring-gameboy-light rounded-b touch-manipulation "+("down"===i?"bg-gameboy-dark scale-95 shadow-inner":""),onClick:()=>n("down"),onTouchStart:e=>d(e,"down"),onKeyDown:e=>l(e,"down"),"aria-label":"D-Pad Down"}),e.jsx("button",{className:"absolute left-0 top-1/2 w-7 h-5 sm:w-6 sm:h-4 transform -translate-y-1/2 bg-gameboy-buttons hover:bg-gameboy-dark active:bg-gameboy-dark transition-all duration-75 focus:outline-none focus:ring-2 focus:ring-gameboy-light rounded-l touch-manipulation "+("left"===i?"bg-gameboy-dark scale-95 shadow-inner":""),onClick:()=>n("left"),onTouchStart:e=>d(e,"left"),onKeyDown:e=>l(e,"left"),"aria-label":"D-Pad Left"}),e.jsx("button",{className:"absolute right-0 top-1/2 w-7 h-5 sm:w-6 sm:h-4 transform -translate-y-1/2 bg-gameboy-buttons hover:bg-gameboy-dark active:bg-gameboy-dark transition-all duration-75 focus:outline-none focus:ring-2 focus:ring-gameboy-light rounded-r touch-manipulation "+("right"===i?"bg-gameboy-dark scale-95 shadow-inner":""),onClick:()=>n("right"),onTouchStart:e=>d(e,"right"),onKeyDown:e=>l(e,"right"),"aria-label":"D-Pad Right"})]})]}),e.jsx("div",{children:e.jsx("div",{className:"flex flex-col space-y-2",children:e.jsxs("div",{className:"flex space-x-3 justify-end",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("button",{className:"w-10 h-10 sm:w-8 sm:h-8 bg-gameboy-buttons hover:bg-gameboy-dark active:bg-gameboy-dark rounded-full shadow-inner transition-all duration-75 focus:outline-none focus:ring-2 focus:ring-gameboy-light touch-manipulation "+("B"===i?"bg-gameboy-dark scale-95 shadow-inner":""),onClick:()=>n("B"),onTouchStart:e=>d(e,"B"),onKeyDown:e=>l(e,"B"),"aria-label":"B Button"}),e.jsx("div",{className:"text-xs font-gameboy text-gameboy-dark mt-1",children:"B"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("button",{className:"w-10 h-10 sm:w-8 sm:h-8 bg-gameboy-buttons hover:bg-gameboy-dark active:bg-gameboy-dark rounded-full shadow-inner transition-all duration-75 focus:outline-none focus:ring-2 focus:ring-gameboy-light touch-manipulation "+("A"===i?"bg-gameboy-dark scale-95 shadow-inner":""),onClick:()=>n("A"),onTouchStart:e=>d(e,"A"),onKeyDown:e=>l(e,"A"),"aria-label":"A Button"}),e.jsx("div",{className:"text-xs font-gameboy text-gameboy-dark mt-1",children:"A"})]})]})})})]}),e.jsxs("div",{className:"flex justify-center space-x-6 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("button",{className:"w-14 h-4 sm:w-12 sm:h-3 bg-gameboy-buttons hover:bg-gameboy-dark active:bg-gameboy-dark rounded-full shadow-inner transition-all duration-75 focus:outline-none focus:ring-2 focus:ring-gameboy-light touch-manipulation "+("SELECT"===i?"bg-gameboy-dark scale-95 shadow-inner":""),onClick:()=>n("SELECT"),onTouchStart:e=>d(e,"SELECT"),onKeyDown:e=>l(e,"SELECT"),"aria-label":"Select Button"}),e.jsx("div",{className:"text-xs font-gameboy text-gameboy-dark mt-1",children:"SELECT"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("button",{className:"w-14 h-4 sm:w-12 sm:h-3 bg-gameboy-buttons hover:bg-gameboy-dark active:bg-gameboy-dark rounded-full shadow-inner transition-all duration-75 focus:outline-none focus:ring-2 focus:ring-gameboy-light touch-manipulation "+("START"===i?"bg-gameboy-dark scale-95 shadow-inner":""),onClick:()=>n("START"),onTouchStart:e=>d(e,"START"),onKeyDown:e=>l(e,"START"),"aria-label":"Start Button"}),e.jsx("div",{className:"text-xs font-gameboy text-gameboy-dark mt-1",children:"START"})]})]})]})},E=({className:s="",onContentTrigger:a})=>{const i=t.useRef(null);return e.jsx("div",{className:`gameboy-shell ${s}`,children:e.jsxs("div",{className:"relative bg-gameboy-shell border-4 border-gameboy-buttons rounded-3xl shadow-2xl p-4 sm:p-6 mx-auto gameboy-enhanced",style:{width:"clamp(400px, 75vw, 1200px)",aspectRatio:"10/16",imageRendering:"pixelated",containerType:"inline-size"},children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-sm font-gameboy text-gameboy-dark mb-1",children:"GAME BOY"}),e.jsx("div",{className:"w-20 h-5 bg-gameboy-buttons rounded-full mx-auto mb-2",children:e.jsx("div",{className:"w-16 h-2 bg-gameboy-dark rounded-full mx-auto translate-y-1"})})]}),e.jsxs("div",{ref:i,className:"mb-6",children:[e.jsx("div",{className:"bg-gameboy-dark p-4 rounded-lg",children:e.jsx(n,{onContentTrigger:a})}),e.jsx("div",{className:"text-center mt-2",children:e.jsx("div",{className:"text-sm font-gameboy text-gameboy-dark",children:"DOT MATRIX WITH STEREO SOUND"})})]}),e.jsx(x,{onButtonPress:e=>{const t=i.current?.querySelector("#phaser-game-container");t&&t.handleButtonPress&&t.handleButtonPress(e)}}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("div",{className:"text-sm font-gameboy text-gameboy-dark",children:"Nintendo"})}),e.jsx("div",{className:"absolute top-6 right-8",children:e.jsx("div",{className:"grid grid-cols-6 gap-1",children:Array.from({length:36},(t,s)=>e.jsx("div",{className:"w-1.5 h-1.5 bg-gameboy-dark rounded-full"},s))})})]})})};class f extends a.Scene{loadingText;progressText;constructor(){super({key:"PreloadScene"})}preload(){this.createLoadingScreen(),this.loadAssets(),this.setupLoadingEvents()}createLoadingScreen(){const{width:e,height:t}=this.cameras.main;this.cameras.main.setBackgroundColor("#c7d32c"),this.loadingText=this.add.text(e/2,t/2-40,"MARIO",{fontSize:"32px",color:"#0f380f",fontFamily:"monospace"}).setOrigin(.5),this.progressText=this.add.text(e/2,t/2+20,"Loading... 0%",{fontSize:"16px",color:"#0f380f",fontFamily:"monospace"}).setOrigin(.5),this.time.addEvent({delay:500,callback:()=>{const e=this.loadingText.text;e.endsWith("...")?this.loadingText.setText("MARIO"):this.loadingText.setText(e+".")},loop:!0})}loadAssets(){this.textures.exists("mario-atlas")&&this.textures.remove("mario-atlas"),this.load.spritesheet("mario-sprites","/assets/sprites/mario_1.png",{frameWidth:16,frameHeight:16}),this.load.spritesheet("blocks-sprites","/assets/sprites/blocks_1.png",{frameWidth:16,frameHeight:16}),this.load.svg("mario-atlas-svg","/assets/sprites/mario-atlas.svg"),this.load.image("mario-background","/assets/backgrounds/bg-1-1.png"),this.load.on("loaderror",e=>{"mario-atlas"===e.key&&this.loadFallbackAssets(),e.key}),this.load.on("filecomplete",(e,t,s)=>{})}loadFallbackAssets(){this.load.multiatlas("mario-atlas","/assets/sprites/mario-atlas.json","/assets/sprites/")}setupLoadingEvents(){this.load.on("progress",e=>{const t=Math.round(100*e);this.progressText.setText(`Loading... ${t}%`),b.emit(y.LOADING_PROGRESS,t)}),this.load.on("complete",()=>{this.progressText.setText("Ready!"),b.emit(y.ASSETS_LOADED);const e=this.textures.exists("mario-atlas");this.textures.exists("mario-background");if(e){this.textures.get("mario-atlas")}this.time.delayedCall(500,()=>{this.scene.start("MainScene")})})}create(){}}class T extends a.Scene{player;platforms;contentBoxes;cursors;wasd;isGrounded=!1;background;gameBoyButtons={left:!1,right:!1,A:!1,B:!1};currentArea=0;transitioning=!1;backgroundThemes=["/assets/backgrounds/bg-1-1.png","/assets/backgrounds/bg-1-1.png","/assets/backgrounds/bg-1-1.png","/assets/backgrounds/bg-1-1.png"];constructor(){super({key:"MainScene"})}create(){this.setupWorld(),this.createBackground(),this.createPlatforms(),this.createPlayer(),this.createContentBoxes(),this.setupControls(),this.setupGameBoyControls(),this.setupCollisions(),this.setupAnimations();["mario-atlas","mario-sprites","blocks-sprites","mario-atlas-svg"].filter(e=>this.textures.exists(e));if(this.textures.exists("mario-atlas")){this.textures.get("mario-atlas").getFrameNames()}else if(this.textures.exists("mario-sprites")){this.textures.get("mario-sprites")}else this.textures.exists("mario-atlas-svg");this.textures.exists("mario-background"),b.emit(y.SCENE_READY,this),b.emit(y.GAME_READY)}setupWorld(){const{width:e,height:t}=this.cameras.main;this.physics.world.setBounds(0,0,e,t),this.cameras.main.setBackgroundColor("#c7d32c")}createBackground(){const{width:e,height:t}=this.cameras.main;if(this.textures.exists("mario-background")){this.background=this.add.tileSprite(0,0,e,t,"mario-background"),this.background.setOrigin(0,0),this.background.setDepth(-10);const s=this.textures.get("mario-background").getSourceImage(),a=e/s.width,i=t/s.height,o=Math.max(a,i);this.background.setScale(o)}}createPlatforms(){this.platforms=this.physics.add.staticGroup();const e=O.WORLD.GROUND_LEVEL,t=64,s=Math.ceil(O.WORLD.BOUNDS.width/t);if(this.textures.exists("mario-atlas")){for(let o=0;o<s;o++){const s=this.getRandomBlockFrame("ground"),a=this.add.image(o*t+32,e+32,"mario-atlas",s);a.setDisplaySize(t,t),this.physics.add.existing(a,!0),this.platforms.add(a)}const a=this.add.image(128,240,"mario-atlas",this.getRandomBlockFrame("platform"));a.setDisplaySize(96,t),this.physics.add.existing(a,!0),this.platforms.add(a);const i=this.add.image(384,200,"mario-atlas",this.getRandomBlockFrame("platform"));i.setDisplaySize(96,t),this.physics.add.existing(i,!0),this.platforms.add(i)}else{for(let o=0;o<s;o++){const s=this.add.rectangle(o*t+32,e+32,t,t,9127187);this.platforms.add(s)}const a=this.add.rectangle(128,240,96,32,9127187),i=this.add.rectangle(384,200,96,32,9127187);this.platforms.add(a),this.platforms.add(i)}}createPlayer(){let e="mario-atlas",t="mario-idle";this.textures.exists("mario-atlas")?(e="mario-atlas",t="mario-idle"):this.textures.exists("mario-sprites")?(e="mario-sprites",t=5):this.textures.exists("mario-atlas-svg")&&(e="mario-atlas-svg",t=0),this.player=this.physics.add.sprite(64,200,e,t),this.player.setCollideWorldBounds(!0),this.player.setDisplaySize(O.PLAYER.SIZE.width,O.PLAYER.SIZE.height),this.player.body&&(this.player.body.setSize(28,30),this.player.body.setOffset(2,2)),this.updatePlayerBounds()}updatePlayerBounds(){const e=O.PLAYER.SIZE.width/2,t=O.PLAYER.SIZE.height/2;this.player.x<e&&(this.player.x=e),this.player.x>this.cameras.main.width-e&&(this.player.x=this.cameras.main.width-e),this.player.y>O.WORLD.GROUND_LEVEL-t&&(this.player.y=O.WORLD.GROUND_LEVEL-t,this.player.setVelocityY(0))}createContentBoxes(){this.contentBoxes=this.physics.add.group();const e=O.BOXES.SIZE.width;if(this.textures.exists("mario-atlas")){const t=this.physics.add.sprite(O.BOXES.POSITIONS.RESUME.x,O.BOXES.POSITIONS.RESUME.y,"mario-atlas","box-resume");t.setData("content","resume"),t.setSize(e,e),t.setDisplaySize(e,e),t.setTint(16766720);const s=this.physics.add.sprite(O.BOXES.POSITIONS.PORTFOLIO.x,O.BOXES.POSITIONS.PORTFOLIO.y,"mario-atlas","box-portfolio");s.setData("content","portfolio"),s.setSize(e,e),s.setDisplaySize(e,e),s.setTint(65280);const a=this.physics.add.sprite(O.BOXES.POSITIONS.CONTACT.x,O.BOXES.POSITIONS.CONTACT.y,"mario-atlas","box-contact");a.setData("content","contact"),a.setSize(e,e),a.setDisplaySize(e,e),a.setTint(33023),this.contentBoxes.addMultiple([t,s,a])}else{const t=this.physics.add.sprite(O.BOXES.POSITIONS.RESUME.x,O.BOXES.POSITIONS.RESUME.y,"mario-atlas","mario-idle");t.setData("content","resume"),t.setSize(e,e),t.setDisplaySize(e,e),t.setTint(16766720);const s=this.physics.add.sprite(O.BOXES.POSITIONS.PORTFOLIO.x,O.BOXES.POSITIONS.PORTFOLIO.y,"mario-atlas","mario-idle");s.setData("content","portfolio"),s.setSize(e,e),s.setDisplaySize(e,e),s.setTint(65280);const a=this.physics.add.sprite(O.BOXES.POSITIONS.CONTACT.x,O.BOXES.POSITIONS.CONTACT.y,"mario-atlas","mario-idle");a.setData("content","contact"),a.setSize(e,e),a.setDisplaySize(e,e),a.setTint(33023),this.contentBoxes.addMultiple([t,s,a])}this.contentBoxes.children.entries.forEach(e=>{e.body&&"setGravityY"in e.body&&e.body.setGravityY(-1600)})}setupControls(){this.cursors=this.input.keyboard.createCursorKeys(),this.wasd={W:this.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.W),A:this.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.A),S:this.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.S),D:this.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.D)};this.input.keyboard.addKey(a.Input.Keyboard.KeyCodes.SPACE).on("down",()=>{this.handleJump()})}setupGameBoyControls(){b.on(y.GAMEBOY_DPAD_LEFT,e=>{this.gameBoyButtons.left=e.pressed}),b.on(y.GAMEBOY_DPAD_RIGHT,e=>{this.gameBoyButtons.right=e.pressed}),b.on(y.GAMEBOY_BUTTON_A,e=>{this.gameBoyButtons.A=e.pressed,e.pressed&&this.handleJump()}),b.on(y.GAMEBOY_BUTTON_B,e=>{this.gameBoyButtons.B=e.pressed,e.pressed&&this.handleJump()})}setupCollisions(){this.physics.add.collider(this.player,this.platforms,()=>{this.isGrounded=!0}),this.physics.add.overlap(this.player,this.contentBoxes,(e,t)=>{this.handleBoxHit(t)}),this.physics.add.collider(this.contentBoxes,this.platforms)}setupAnimations(){let e="mario-atlas",t="mario-idle",s=[{key:"mario-atlas",frame:"mario-walk-1"},{key:"mario-atlas",frame:"mario-walk-2"}],a="mario-jump";this.textures.exists("mario-atlas")?(e="mario-atlas",t="mario-idle",s=[{key:"mario-atlas",frame:"mario-walk-1"},{key:"mario-atlas",frame:"mario-walk-2"}],a="mario-jump"):this.textures.exists("mario-sprites")?(e="mario-sprites",t=5,s=[{key:"mario-sprites",frame:6},{key:"mario-sprites",frame:7}],a=8):(e="mario-atlas-svg",t=0,s=[{key:"mario-atlas-svg",frame:0}],a=0),this.anims.exists("mario-walk")||this.anims.create({key:"mario-walk",frames:s,frameRate:O.ANIMATIONS.FRAME_RATE,repeat:-1}),this.anims.exists("mario-idle")||this.anims.create({key:"mario-idle",frames:[{key:e,frame:t}],frameRate:1}),this.anims.exists("mario-jump")||this.anims.create({key:"mario-jump",frames:[{key:e,frame:a}],frameRate:1})}update(){this.handlePlayerMovement(),this.updateAnimations(),this.checkGrounded(),this.updateBackground(),this.updatePlayerBounds()}updateBackground(){this.checkAreaTransitions()}handlePlayerMovement(){const e=O.PLAYER.SPEED,t=this.cursors.left.isDown||this.wasd.A.isDown||this.gameBoyButtons.left,s=this.cursors.right.isDown||this.wasd.D.isDown||this.gameBoyButtons.right;if(t)this.player.setVelocityX(-e),this.player.setFlipX(!0);else if(s)this.player.setVelocityX(e),this.player.setFlipX(!1);else{const e=this.player.body.velocity.x,t=this.isGrounded?O.PLAYER.GROUND_FRICTION:O.PLAYER.AIR_FRICTION;if(Math.abs(e)<10)this.player.setVelocityX(0);else{const s=e>0?Math.max(0,e-t*(1/60)):Math.min(0,e+t*(1/60));this.player.setVelocityX(s)}}(this.cursors.up.isDown||this.wasd.W.isDown)&&this.isGrounded&&this.handleJump()}handleJump(){this.isGrounded&&(this.player.setVelocityY(O.PLAYER.JUMP_VELOCITY),this.isGrounded=!1,b.emit(y.PLAYER_JUMPED))}updateAnimations(){this.isGrounded?Math.abs(this.player.body.velocity.x)>10?this.player.play("mario-walk",!0):this.player.play("mario-idle",!0):this.player.play("mario-jump",!0)}checkGrounded(){this.isGrounded=!1}handleBoxHit(e){const t=e.getData("content");this.tweens.add({targets:e,y:e.y-10,duration:100,yoyo:!0,ease:"Power2"}),b.emit(y.BOX_HIT,{type:t,box:e}),b.emit(y.CONTENT_TRIGGER,t)}getRandomBlockFrame(e){const t={ground:["ground-tile"],platform:["ground-tile"],decorative:["box-resume","box-portfolio","box-contact"]},s=t[e]||t.ground;return s[Math.floor(Math.random()*s.length)]}checkAreaTransitions(){if(this.transitioning)return;const e=this.player.x,t=this.player.body?.velocity.x||0,s=this.cameras.main.width;e<=20&&t<0&&this.currentArea>0&&this.transitionToArea("left"),e>=s-20&&t>0&&this.transitionToArea("right")}transitionToArea(e){this.transitioning=!0,this.player.setVelocityX(0);const t="right"===e?1:-1,s=Math.max(0,this.currentArea+t);this.updateBackgroundTheme(s);const a="right"===e?30:this.cameras.main.width-30;this.tweens.add({targets:this.player,x:a,duration:300,ease:"Power2.easeInOut",onComplete:()=>{this.currentArea=s,this.transitioning=!1}})}updateBackgroundTheme(e){const t=e%this.backgroundThemes.length,s=(this.backgroundThemes[t],[16777215,16770764,15135487,15787775]);if(this.background){const e=s[t%s.length];this.background.setTint(e)}b.emit(y.AREA_CHANGED,{area:e,theme:["overworld","underground","sky","castle"][t%4]})}destroy(){b.off(y.GAMEBOY_DPAD_LEFT,()=>{}),b.off(y.GAMEBOY_DPAD_RIGHT,()=>{}),b.off(y.GAMEBOY_BUTTON_A,()=>{}),b.off(y.GAMEBOY_BUTTON_B,()=>{}),b.emit(y.GAME_DESTROYED)}}const A={type:a.AUTO,width:640,height:480,parent:"phaser-game-container",backgroundColor:"#c7d32c",physics:{default:"arcade",arcade:{gravity:{x:0,y:800},debug:!1}},scene:[f,T],render:{pixelArt:!0,antialias:!1,roundPixels:!0,powerPreference:"high-performance"},scale:{mode:a.Scale.FIT,autoCenter:a.Scale.CENTER_BOTH,parent:"phaser-game-container",width:640,height:480,min:{width:320,height:240},max:{width:1280,height:960}},input:{keyboard:!0,gamepad:!1},audio:{disableWebAudio:!1},banner:{hidePhaser:!0}},O={PLAYER:{SPEED:320,JUMP_VELOCITY:-1e3,SIZE:{width:32,height:32},GROUND_FRICTION:1600,AIR_FRICTION:600},WORLD:{GROUND_LEVEL:400,BOUNDS:{width:640}},BOXES:{SIZE:{width:64},POSITIONS:{RESUME:{x:200,y:336},PORTFOLIO:{x:320,y:336},CONTACT:{x:440,y:336}}},ANIMATIONS:{FRAME_RATE:8}},S=Object.freeze(Object.defineProperty({__proto__:null,default:({currentActiveScene:s,onContentTrigger:i,className:o=""})=>{const r=t.useRef(null),n=t.useRef(null),[d,m]=t.useState(0),[h,u]=t.useState(!1),[g,p]=t.useState(!1),x=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768;t.useEffect(()=>{if(r.current&&!n.current){n.current=new a.Game({...A,parent:r.current});const e=()=>{u(!0),l.announceGameStart(),x&&(p(!0),setTimeout(()=>p(!1),4e3))},t=e=>{s?.(e)},o=e=>{i?.(e),l.announceBoxHit(e)},d=e=>{m(e)},c=({type:e})=>{};return b.on(y.GAME_READY,e),b.on(y.SCENE_READY,t),b.on(y.CONTENT_TRIGGER,o),b.on(y.LOADING_PROGRESS,d),b.on(y.BOX_HIT,c),()=>{b.off(y.GAME_READY,e),b.off(y.SCENE_READY,t),b.off(y.CONTENT_TRIGGER,o),b.off(y.LOADING_PROGRESS,d),b.off(y.BOX_HIT,c),n.current&&(n.current.destroy(!0),n.current=null,u(!1),m(0))}}},[s,i]),t.useEffect(()=>()=>{n.current&&(n.current.destroy(!0),n.current=null)},[]);const E=e=>{if(!n.current)return;const t=n.current.scene.getScene("MainScene");if(t&&t.input&&t.input.keyboard)switch(e){case"A":t.input.keyboard.emit("keydown-SPACE");break;case"B":break;case"up":t.input.keyboard.emit("keydown-UP");break;case"down":t.input.keyboard.emit("keydown-DOWN");break;case"left":t.input.keyboard.emit("keydown-LEFT");break;case"right":t.input.keyboard.emit("keydown-RIGHT")}b.emit(y.BUTTON_PRESSED,e)};return t.useEffect(()=>{r.current&&(r.current.handleButtonPress=E)},[]),e.jsxs("div",{className:`phaser-game-wrapper ${o}`,children:[e.jsx("div",{ref:r,id:"phaser-game-container",className:"w-full h-full touch-manipulation",style:{imageRendering:"pixelated",touchAction:"none"},onTouchStart:e=>{e.preventDefault();const t=r.current?.getBoundingClientRect();if(!t||!n.current)return;const s=e.touches[0],a=s.clientX-t.left,i=s.clientY-t.top,o=t.width,d=.7*o,l=.5*t.height;a<.3*o?E("left"):a>d&&E("right"),i<l&&E("A")},onKeyDown:e=>c(e.nativeEvent),role:"application","aria-label":"Mario platformer game. Use arrow keys or WASD to move Mario, spacebar to jump. Hit colored boxes to navigate to Resume (gold), Portfolio (green), or Contact (blue) sections.",tabIndex:0}),!h&&e.jsx("div",{className:"absolute inset-0 bg-gameboy-screen flex flex-col items-center justify-center",children:e.jsxs("div",{className:"text-gameboy-darkest font-gameboy text-center",children:[e.jsx("div",{className:"text-lg mb-2",children:"MARIO"}),e.jsxs("div",{className:"text-xs mb-4",children:["Loading... ",d,"%"]}),e.jsxs("div",{className:"flex justify-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gameboy-darkest rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gameboy-darkest rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gameboy-darkest rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),g&&e.jsx("div",{className:"absolute inset-0 bg-gameboy-screen bg-opacity-90 flex items-center justify-center z-10",children:e.jsxs("div",{className:"text-gameboy-darkest font-gameboy text-center p-4",children:[e.jsx("div",{className:"text-sm mb-2",children:"Touch Controls"}),e.jsx("div",{className:"text-xs mb-1",children:"Tap left side: ← Move left"}),e.jsx("div",{className:"text-xs mb-1",children:"Tap right side: Move right →"}),e.jsx("div",{className:"text-xs mb-3",children:"Tap upper area: Jump ↑"}),e.jsx("div",{className:"text-xs opacity-75",children:"Or use the GameBoy buttons below"})]})}),h&&!1]})}},Symbol.toStringTag,{value:"Module"}));export{b as E,y as G,o as _,E as a,l as g,u as h,h as i,g as r};
//# sourceMappingURL=game-hnuPS22Q.js.map
